document.addEventListener("DOMContentLoaded",function(){const iframe=document.querySelector("#postco360-iframe");const params=new URLSearchParams(window.location.search);if(params.has("disable-resize-observer")||!iframe)return;let shouldResize=true;let initialHeight=iframe.offsetHeight;let padding=50;console.log("Initial height > ",initialHeight);window.onmessage=event=>{if(event.origin.match(/postco\.co/)){console.log("Parent received---",event.data);let{type,height,isRoot,resetHeight}=event.data;height+=padding;if(type==="resize"){if(shouldResize&&isRoot&&iframe.offsetHeight-height>0&&(iframe.offsetHeight-height)/iframe.offsetHeight>.3){iframe.style.height=`${initialHeight}px`}else if(resetHeight){shouldResize=false;iframe.style.height=`${initialHeight}px`}else if(shouldResize&&height>iframe.offsetHeight){iframe.style.height=height+"px"}}else if(type==="scrollToTop"){window.scrollTo(0,0);iframe.scrollTo(0,0)}else if(type==="scrollUp"){window.scrollTo({top:0,behavior:"smooth"})}else if(type==="scrollDown"){const iframeBottom=iframe.scrollHeight;const viewportHeight=window.innerHeight;window.scrollBy({top:iframeBottom-viewportHeight+300,behavior:"smooth"})}}}});
